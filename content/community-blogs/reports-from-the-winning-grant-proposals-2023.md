---
source: "blog"
title: "QGIS Project blog: Reports from the winning grant proposals 2023"
image: "reports-from-the-winning-grant-proposals-2023."
date: "2024-05-04"
link: "https://blog.qgis.org/2024/05/04/reports-from-the-winning-grant-proposals-2023/"
draft: "true"
showcase: "planet"
---

<p>With the <a href="https://blog.qgis.org/2023/06/26/qgis-grant-programme-2023-results/">QGIS Grant Programme 2023</a>, we were able to support four proposals in the first round and an additional <a href="https://blog.qgis.org/2023/09/20/qgis-grant-programme-2023-update/">two proposals through the second round</a> that are aimed to improve the QGIS project, including software, infrastructure, and documentation. The following reports summarize the work performed in the proposals. </p>
<ol>
<li class="task-list-item enabled position-relative border-right-0 hovered"><strong><a href="https://wordpress.com/post/blog.qgis.org/2842">QGIS Bug Tracker cleanup #266</a></strong> &#8211; <a href="https://github.com/qgis/QGIS-Enhancement-Proposals/issues/266#issuecomment-1889177413">Report</a><br />While checking existing bugreports we have identified and closed ~291 tickets, among them:<br /><br />&#8211; 162 bugreports and feature requests which were already fixed or implemented<br />&#8211; 29 bugreports and feature requests which are invalid (data issues, wrong use of functionality, etc)<br />&#8211; 57 duplicate bugreports and feature requests<br />&#8211; 5 won&#8217;t fix bugreports<br />&#8211; 5 bugreports were converted to feature requests<br />&#8211; 33 tickets were closed (does not contain steps to reproduce, test data and no feedback was provided within several month)<br /><br />Additionally we ensured that all tickets has correct tags assigned to to make them easier to find.<br /><br /></li>
<li class="task-list-item enabled position-relative border-right-0"><a href="https://github.com/qgis/QGIS-Enhancement-Proposals/issues/271"><strong><span class="reference">Porting to C++ and harmonization of Processing algorithms #271</span></strong></a> &#8211; <a href="https://lists.osgeo.org/pipermail/qgis-psc/2023-October/010145.html">Report</a><br />The work has been completed with several pull requests:<br />&#8211; <a href="https://github.com/qgis/QGIS/pull/53787">Port various geometry algorithms to C++</a> <br />&#8211; <a href="https://github.com/qgis/QGIS/pull/53874">Port Align Rasters tool to Processing</a> <br />&#8211; <a href="https://github.com/qgis/QGIS/pull/54035">Port Raster Calculator algorithm to C++</a> <br />&#8211; <a href="https://github.com/qgis/QGIS/pull/54321">Port XYZ Tiles algorithms to C++</a> <br /><br />Existing Processing algorithms Voronoi Polygons and Delaunay Triangulation have been ported to C++ and now use GEOS instead of the unmaintained Python module. Both algorithms have been given additional parameters to disable post-processing step (adding attributes of input points for Voronoi polygons and adding feature IDs of the 3 points forming a triangle for Delaunay triangulation) and thus improve algorithm performance. The Concave Hull algorithm has been ported to C++ and uses GEOS for QGIS builds with GEOS &gt;= 3.11, while a port of the existing implementation based on Delaunay triangulation is used for builds with older GEOS versions.<br /><br />Two algorithms for generating XYZ tiles (directory and MBTiles variants) have been ported to C++ using a safer and cleaner multi-threading approach.<br /><br />The Align Rasters tool (available from the Raster → Align Rasters menu), which was not exposed to Processing, has been removed and a new Processing algorithm with the same functionality has been added. To make this possible, we have added a new QgsProcessingParameterAlignRasterLayers parameter type to Processing, which provides an adapter to QList&lt;QgsAlignRaster::Item&gt;. The &#8220;Raster&#8221; menu item now opens the Processing algorithm. We have also added a separate, simplified modeler-only version of the algorithm that accepts a single raster to align and returns a single raster layer output.<br /><br />The existing Raster Calculator algorithm has been ported to C++. The algorithm now has two variants: a toolbox version that works the same way as before, and a modeler version that uses the same approach to input naming as the GDAL raster calculator (in the formula, you should use letters instead of layer names). The old algorithm implementation has been retained for compatibility with existing models and will be removed in QGIS 4. We have also added a separate raster calculator algorithm for creating virtual raster layers.</li>
<li class="task-list-item enabled position-relative border-right-0"><strong><a href="https://wordpress.com/post/blog.qgis.org/2842">Improve test result handling on QGIS CI #268</a> </strong>&#8211; <a href="https://lists.osgeo.org/pipermail/qgis-psc/2023-November/010162.html">Report</a><br />While the original proposal was explicitly stated to be a research project with no guarantees of success, the end result is predominantly a success (with some limitations!). You can see the new failure handling in action in <a href="https://github.com/qgis/QGIS/pull/55417#issuecomment-1826995755">this PR</a>. <br /><br />What we have now is that any tests which fail a rendering comparison will write a descriptive comment to the PR, as shown in the above link. The comment details which render tests failed, where they are in the code, and includes some helpful pointers to downloading the full test report and the QGIS developer documentation.<br /><br />Originally, I hoped to link directly to the full test report or include it as an attachment to the comment. Unfortunately this is NOT possible given the current Github API. There&#8217;s a bunch of notes I&#8217;ve added to <a href="https://github.com/qgis/QGIS/pull/54906">the initial comment</a> which link to the limitations / feature requests on Github&#8217;s side, so we can monitor the situation and further improve the reports if/when Github add this functionality.<br /><br />As well as the above described improvements on the CI side, I&#8217;ve also implemented lots of improvements in running the tests locally and how the render test reports are generated and presented to developers!<br /><br /></li>
<li class="task-list-item enabled position-relative border-right-0"><strong><a href="https://wordpress.com/post/blog.qgis.org/2842">Unification of all geometric and topological verification methods #236</a></strong> &#8211; <a href="https://lists.osgeo.org/pipermail/qgis-psc/2024-February/010226.html">Report</a><br />Our efforts are primarily focused on two main aspects of the proposal:<br /><strong>1. Unification of Algorithms:</strong><br />This component entails both refactoring existing algorithms and introducing new ones. While the refactoring phase did not reach the level of ambition initially envisioned, considerable cleanup has been achieved, particularly in eliminating code duplications, as evidenced by the PR submitted <a href="https://github.com/qgis/QGIS/pull/55000">[1]</a> <a href="https://github.com/qgis/QGIS/pull/56130">[2]</a> <a href="https://github.com/qgis/QGIS/pull/55619">[3]</a>. Other deduplications could be considered, but the main issue is not to break the small optimizations or adaptations to the logic of the existing code.<br /><strong><br />2. Integration of Geometry Checker Algorithms:</strong><br />Following the discussions within the QEP framework, we have decided to transition algorithms to those already present in the geometry checker. These algorithms encompass topological considerations. Unfortunately, due to timing constraints with the year-end and the feature freeze period, this integration was not yet completed. <a href="https://github.com/qgis/QGIS/pull/55625">[4]</a> <a href="https://github.com/qgis/QGIS/pull/55648">[5]</a> <br /> <br /><strong>Processing Integration:</strong><br />Efforts have been made to incorporate the geometry checker&#8217;s algorithms into the processing framework <a href="https://github.com/qgis/QGIS/pull/55552">[6]</a> <a href="https://github.com/qgis/QGIS/pull/55590">[7]</a> <a href="https://github.com/qgis/QGIS/pull/55939">[8]</a>. Regrettably, these efforts have not yet been fully realized. We encountered challenges in aligning processing with the logic of the geometry checker. However, the ongoing PR by Jacky shows promising progress in overcoming these obstacles. We are optimistic about achieving the integration of geometry (and topology) checker algorithms into processing for the upcoming version. This integration aims to streamline ETL processes for verification and correction tasks, thereby enhancing codebase cleanliness.<br /><br /></li>
<li>The remaining project reports will be added as the projects wrap up.</li>
</ol>
<p>Thank you to everyone who participated and made this round of grants a great success and thank you to all our <a href="https://qgis.org/en/site/about/sustaining_members.html">sustaining members</a> and donors who make this initiative possible!</p>


<p></p>
